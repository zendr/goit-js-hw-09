{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,UAEa,CACXC,MAAOC,SAASC,cAAc,UAC9BC,OAAQF,SAASC,cAAc,WAQ5BC,OAAOC,iBAAiB,SAE7B,SAAiBC,GAGf,GAFAA,EAAIC,iBAEuB,WAAvBD,EAAIE,OAAOC,QACb,OAGF,IACEC,UAAYC,MAAAC,EAAKC,KAAEA,EAAIC,OAAEA,IACvBR,EAAIS,cAEJC,EAAcC,OAAOH,EAAOI,OAC5BC,EAAaF,OAAOL,EAAMM,OAC1BE,EAAYH,OAAOJ,EAAKK,OAM5BN,EAAQO,EAER,IAAK,IAAIE,EAAW,EAAGA,GAAYL,EAAaK,GAAY,EAC1DC,EAAc,CAAEC,SAAAF,EAAUV,MAAAC,IACvBY,MAAK,EAACD,SAAEA,EAAQZ,MAAEA,MACjBZ,EAAA0B,OAAOC,QAAQ,uBAAqBH,QAAiBZ,MAAU,IAEhEgB,OAAM,EAACJ,SAAEA,EAAQZ,MAAEA,MAClBZ,EAAA0B,OAAOG,QAAQ,sBAAoBL,QAAeZ,MAAU,IAEhEC,GAASQ,EAIX,SAASE,GAAcC,SAAEA,EAAQZ,MAAEA,IAEjC,OAAO,IAAIkB,SAAQ,CAACC,EAASC,KAC3BC,YAAW,KACaC,KAAKC,SAAW,IAIpCJ,EAAQ,C,SAAEP,E,MAAUZ,IAGtBoB,EAAO,C,SAAER,E,MAAUZ,GAAQ,GAC1BA,EAAM,G","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst refs = {\n  btnEl: document.querySelector('button'),\n  formEl: document.querySelector('.form'),\n\n  // inputDelayEl: document.querySelector('input[name=\"delay\"]'),\n  // inputStepEl: document.querySelector('input[name=\"step\"]'),\n  // inputAmountEl: document.querySelector('input[name=\"amount\"]'),\n\n}\n\nrefs.formEl.addEventListener('click', onClick);\n\nfunction onClick(evt) {\n  evt.preventDefault();\n\n  if (evt.target.tagName !== 'BUTTON') {\n    return;\n  }\n\n  let {\n    elements: { delay, step, amount },\n  } = evt.currentTarget;\n \n  let amountValue = Number(amount.value);\n  let firstDelay = Number(delay.value);\n  let stepValue = Number(step.value);\n\n  // console.log(firstDelay);\n  // console.log(stepValue);\n  // console.log(amountValue);\n\n  delay = firstDelay;\n\n  for (let position = 1; position <= amountValue; position += 1) {\n    createPromise({ position, delay })\n      .then(({ position, delay }) => {\n        Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      })\n      .catch(({ position, delay }) => {\n        Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n      })\n    delay += stepValue;\n  }\n\n  \n  function createPromise({ position, delay }) {\n\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        const shouldResolve = Math.random() > 0.3;\n        // console.log(shouldResolve);  \n        if (shouldResolve) {\n          // Fulfill   \n          resolve({ position, delay });\n        }\n        // Reject\n        reject({ position, delay });\n      }, delay);\n    });\n  }\n}"],"names":["$iQIUW","parcelRequire","btnEl","document","querySelector","formEl","addEventListener","evt","preventDefault","target","tagName","elements","delay","delay1","step","amount","currentTarget","amountValue","Number","value","firstDelay","stepValue","position1","createPromise","position","then","Notify","success","catch","failure","Promise","resolve","reject","setTimeout","Math","random"],"version":3,"file":"03-promises.588892dc.js.map"}